defineVariable(int, _MonthlyCheck_lastMonth);
defineVariable(int, _MonthlyCheck_lastMonthYear);
defineVariable(StatRecord, _MonthlyCheck_statRecord);

defineVariable(int, _MonthlyCheck_buildings);
defineVariable(int, i);
defineVariable(Building, _building);

defineVariable(Resources, _imported_RUB);
defineVariable(Resources, _imported_USD);

defineFunction(MonthlyCheck, void, int: day, int: month, int: year)
{
	// first day of each month 
	if(day ? 1)
	{
		// if this is 12 month
		if(month ? 1)
		{
			_MonthlyCheck_lastMonth = 12;
			_MonthlyCheck_lastMonthYear = year - 1;
		}
		else()
		{
			_MonthlyCheck_lastMonth = month - 1;
			_MonthlyCheck_lastMonthYear = year;
		}
		
		_MonthlyCheck_statRecord.GetFromPresentToDate_DMY(1,_MonthlyCheck_lastMonth,_MonthlyCheck_lastMonthYear);
	
		//check for prefab import
		_imported_RUB = _MonthlyCheck_statRecord.ImportTonsRUB;
		_imported_USD = _MonthlyCheck_statRecord.ImportTonsUSD;
		
		if(_imported_RUB.prefabpanels + _imported_USD.prefabpanels > 0)
		{
			Window_ShowText("No prefab panels import allowed, you failed");
		}
		
		// check tourism
		if(year < 1992)
		{
			if(_MonthlyCheck_statRecord.Tourism_ToursitEnteredUSD + _MonthlyCheck_statRecord.Tourism_ToursitEnteredRUB > 0)
			{
				Window_ShowText("No tourists allowed, you failed");
			}
		}
	}

	returnVoid();
}